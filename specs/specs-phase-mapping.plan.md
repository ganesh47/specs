# Implementation Plan: specs.phase-mapping

**Branch**: `specs-phase-mapping-plan` | **Date**: 2025-12-10 | **Spec**: specs/specs-phase-mapping.feature.md
**Input**: Feature specification and templates refreshed via `specs scan --refresh-spec-kit`

## Summary
Define how each specs lifecycle phase (idea → ADR → plan → tasks → implementation → sync → close) maps to spec-kit templates and specs CLI commands, ensuring ADR gates, guardrails, CI checks, and release-before-close remain enforced.

## Technical Context
**Language/Version**: N/A (process/docs)  
**Primary Dependencies**: specs CLI, spec-kit template library, GitHub Actions (guard, coverage, conformance, security, release)  
**Storage**: N/A (docs only)  
**Testing**: CI guard + coverage/conformance/security workflows  
**Target Platform**: GitHub repo (docs + automation)  
**Project Type**: Process documentation and automation mapping  
**Performance Goals**: Automation must block non-compliant PRs; release must accompany close  
**Constraints**: Minor version bump + release required before spec close; ADR approval required; no pending review comments before merge  
**Scale/Scope**: Applies to all specs in repo; reuse for downstream consumers

## Project Structure
Documentation for this spec lives in `specs/`:
```
specs/
├── specs-phase-mapping.feature.md   # spec
├── specs-phase-mapping.plan.md      # this plan
└── specs-phase-mapping.tasks.md     # tasks derived from plan
```
Context files generated by specs CLI:
```
.specs/current-task.md
.codex/context-spec-next.md
.specs/spec-kit/*.md   # refreshed templates (spec/plan/tasks/spec-driven)
```
Structure Decision: No app source changes; focus on docs + automation mapping and guardrails.

## Implementation Strategy
1) Document phase-to-template/command mapping (idea → close) with required outputs and links (issue/ADR/wiki/PR).  
2) Codify guardrails and CI expectations per phase (spec-kit refresh/check, coverage, conformance if applicable, security scans, release-before-close).  
3) Produce actionable task list aligned to phases; ensure tasks reference refreshed spec-kit templates and context files.  
4) Update ADR #31 and wiki page with mapping and approval marker.  
5) Keep `specs sync`/`specs close` flows documented with release requirement.  
6) Validate via guard workflow + CI green; ensure no pending review comments before merge.  
7) On close: minor version bump + release workflow dispatch; update ADR/wiki/issue.

## Dependencies & Execution Order
- Guardrails/CI already in place (spec-guard, coverage, conformance, security, release).
- Requires ADR #31 approval before finalizing tasks/implementation.
- `specs sync` to move project status; `specs close` only after release and green checks.

## Notes
- Use refreshed spec-kit templates from `.specs/spec-kit/`.
- Document template versions/commit hash if needed for traceability.
